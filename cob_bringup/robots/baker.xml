<?xml version="1.0"?>
<launch>

    <!-- args -->
    <arg name="robot" value="baker"/>
    <arg name="sim" default="false"/>
    
    <!-- upload robot description -->
    <include file="$(find cob_hardware_config)/upload_robot.launch">
        <arg name="robot" value="$(arg robot)"/>
    </include>

    <!-- upload default configuration parameters -->
    <include file="$(find cob_default_robot_config)/upload_param.launch">
            <arg name="robot" value="$(arg robot)"/>
    </include>

    <include file="$(find cob_bringup)/tools/robot_state_publisher.launch">
        <arg name="robot" value="$(arg robot)"/>
    </include>

    <!-- canopen -->
    <include file="$(find cob_bringup)/components/canopen_generic.launch">
        <arg name="robot" value="$(arg robot)"/>
        <arg name="component_name" value="arm"/>
        <arg name="can_device" value="can0"/>
        <arg name="sim" value="$(arg sim)"/>
    </include>
    
    <!-- include file="$(find cob_bringup)/components/canopen_generic.launch">
        <arg name="robot" value="$(arg robot)"/>
        <arg name="component_name" value="prismatic"/>
        <arg name="can_device" value="can1"/>
        <arg name="sim" value="$(arg sim)"/>
    </include-->

    <include file="$(find cob_bringup)/components/canopen_generic.launch">
        <arg name="robot" value="$(arg robot)"/>
        <arg name="component_name" value="gripper"/>
        <arg name="can_device" value="can0"/>
        <arg name="sim" value="$(arg sim)"/>
    </include>

    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher_gripper_base_link_gripper_camera_frame" output="screen" args="0.0 0.05 0.095 -1.57 -1.57 0  gripper_base_link gripper_camera_frame 100"/>


    <!-- start common nodes used in hardware and simulation -->
    <include file="$(find cob_script_server)/launch/script_server.launch"/>
    <include file="$(find cob_bringup)/tools/behavior.launch"/>
  
</launch>
